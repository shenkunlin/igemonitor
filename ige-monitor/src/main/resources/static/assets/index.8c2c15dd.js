var y=Object.defineProperty;var l=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var d=(e,a,t)=>a in e?y(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,s=(e,a)=>{for(var t in a||(a={}))D.call(a,t)&&d(e,t,a[t]);if(l)for(var t of l(a))x.call(a,t)&&d(e,t,a[t]);return e};import{V as n,n as r,A as $}from"./index.a1219e87.js";import{C as w,m as C}from"./index.8e90c859.js";import{g as f,a as N,u as k}from"./namespace-config.5600bdfa.js";const V={id:void 0,namespaceName:"",description:""};var S=n.extend({props:{id:{type:String},visible:{type:Boolean}},data(){return{rules:{namespaceName:[{required:!0,message:"\u8BF7\u8F93\u5165",type:"error"}],description:[{required:!0,message:"\u8BF7\u8F93\u5165",type:"error"}]},formData:s({},V)}},computed:{formVisible:{get(){return this.visible},set(e){this.$emit("update:visible",e)}}},methods:{opened(){this.id&&this.init(this.id)},async init(e){const{data:a}=await f(e);this.formData=a},async onSubmit({result:e,firstError:a}){a||(this.formData.id?await k(this.formData):await N(this.formData),this.$message.success("\u63D0\u4EA4\u6210\u529F"),this.formVisible=!1,this.$emit("refreshDataList"))},onClickCloseBtn(){this.formVisible=!1},closed(){this.$nextTick(()=>{this.$refs.form.reset()})}}}),p=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("t-dialog",{attrs:{header:(this.id?"\u7F16\u8F91":"\u6DFB\u52A0")+"\u9879\u76EE",visible:e.formVisible,width:446,footer:!1},on:{"update:visible":function(i){e.formVisible=i},opened:e.opened,closed:e.closed}},[t("div",{attrs:{slot:"body"},slot:"body"},[t("t-form",{ref:"form",attrs:{data:e.formData,rules:e.rules,labelWidth:120,requiredMark:!1},on:{submit:e.onSubmit}},[t("t-form-item",{attrs:{label:"\u9879\u76EE\u540D\u79F0\uFF1A",name:"namespaceName"}},[t("t-input",{style:{width:"250px"},attrs:{placeholder:"\u8BF7\u8F93\u5165"},model:{value:e.formData.namespaceName,callback:function(i){e.$set(e.formData,"namespaceName",i)},expression:"formData.namespaceName"}})],1),t("t-form-item",{attrs:{label:"\u63CF\u8FF0\uFF1A",name:"description"}},[t("t-input",{style:{width:"250px"},attrs:{placeholder:"\u8BF7\u8F93\u5165"},model:{value:e.formData.description,callback:function(i){e.$set(e.formData,"description",i)},expression:"formData.description"}})],1),t("t-form-item",{staticStyle:{float:"right"}},[t("t-button",{attrs:{variant:"outline"},on:{click:e.onClickCloseBtn}},[e._v("\u53D6\u6D88")]),t("t-button",{attrs:{theme:"primary",type:"submit"}},[e._v("\u786E\u5B9A")])],1)],1)],1)])},A=[];p._withStripped=!0;const c={};var v=r(S,p,A,!1,F,null,null,null);function F(e){for(let a in c)this[a]=c[a]}v.options.__file="src/pages/namespace-config/components/add-or-update-dialog.vue";var L=function(){return v.exports}();const I={id:void 0,namespaceName:"",description:""};var U=n.extend({props:{id:{type:String},visible:{type:Boolean}},data(){return{formData:s({},I)}},computed:{formVisible:{get(){return this.visible},set(e){this.$emit("update:visible",e)}}},methods:{async opened(){const{data:e}=await f(this.id);this.formData=e}}}),_=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("t-dialog",{attrs:{header:"\u9879\u76EE\u8BE6\u60C5",visible:e.formVisible,width:398,footer:!1},on:{"update:visible":function(i){e.formVisible=i},opened:e.opened}},[t("div",{attrs:{slot:"body"},slot:"body"},[t("t-form",{ref:"form",attrs:{data:e.formData,labelWidth:120}},[t("t-form-item",{attrs:{label:"\u9879\u76EE\u540D\u79F0\uFF1A"}},[t("div",{staticStyle:{width:"250px"}},[e._v(e._s(e.formData.namespaceName))])]),t("t-form-item",{attrs:{label:"\u63CF\u8FF0\uFF1A"}},[t("div",{staticStyle:{width:"250px"}},[e._v(e._s(e.formData.description))])])],1)],1)])},B=[];_._withStripped=!0;const m={};var h=r(U,_,B,!1,E,null,null,null);function E(e){for(let a in m)this[a]=m[a]}h.options.__file="src/pages/namespace-config/components/detail-dialog.vue";var K=function(){return h.exports}(),M=n.extend({name:"namespace-config",components:{AddIcon:$,Card:w,AddOrUpdateDialog:L,DetailDialog:K},mixins:[C],data(){return{mixinViewModuleOptions:{getDataListURL:"/api/namespaceConfig/search",createdIsNeed:!0,getDataListIsPage:!0,activatedIsNeed:!1,deleteURL:"/api/namespaceConfig"},columns:[{title:"ID",align:"left",width:200,colKey:"id",fixed:"left"},{title:"\u9879\u76EE\u540D\u79F0",align:"left",width:200,colKey:"namespaceName",fixed:"left"},{title:"\u63CF\u8FF0",align:"left",width:200,colKey:"description",fixed:"left"},{align:"left",fixed:"right",width:200,colKey:"op",title:"\u64CD\u4F5C"}],formData:{namespaceName:void 0}}}}),b=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("card",[t("t-form",{ref:"form",attrs:{data:e.formData,"label-width":80,colon:""},on:{submit:e.query}},[t("t-row",[t("t-col",{attrs:{flex:"none"}},[t("t-form-item",{attrs:{label:"\u9879\u76EE\u540D\u79F0",name:"name"}},[t("t-input",{staticClass:"form-item-content",style:{width:"182px"},attrs:{type:"search",placeholder:"\u8BF7\u8F93\u5165"},model:{value:e.formData.namespaceName,callback:function(i){e.$set(e.formData,"namespaceName",i)},expression:"formData.namespaceName"}})],1)],1),t("t-col",{attrs:{flex:"auto"}},[t("t-button",{style:{marginLeft:"20px"},attrs:{theme:"primary",type:"submit"}},[e._v(" \u641C\u7D22 ")])],1),t("t-col",{attrs:{flex:"none"}},[t("t-button",{attrs:{theme:"primary"},on:{click:function(i){return e.addOrUpdateHandle()}}},[t("add-icon",{attrs:{slot:"icon"},slot:"icon"}),e._v("\u6DFB\u52A0")],1)],1)],1)],1)],1),t("card",{staticClass:"container-base-margin-top table-content"},[t("div",{staticClass:"table-container"},[t("t-table",{attrs:{columns:e.columns,data:e.dataList,rowKey:e.rowKey,verticalAlign:e.verticalAlign,stripe:e.stripe,bordered:e.bordered,hover:e.hover,pagination:e.pagination,loading:e.dataListLoading},on:{"page-change":e.rehandlePageChange},scopedSlots:e._u([{key:"op",fn:function(i){return[t("a",{staticClass:"t-button-link",on:{click:function(o){return e.handleClickDetail(i.row.id)}}},[e._v("\u8BE6\u60C5")]),t("a",{staticClass:"t-button-link",on:{click:function(o){return e.addOrUpdateHandle(i.row.id)}}},[e._v("\u7F16\u8F91")]),t("a",{staticClass:"t-button-link",on:{click:function(o){return e.handleClickDelete(i.row.id)}}},[e._v("\u5220\u9664")])]}}])})],1)]),t("add-or-update-dialog",{attrs:{id:e.id,visible:e.addOrUpdateVisible},on:{"update:visible":function(i){e.addOrUpdateVisible=i},refreshDataList:e.getDataList}}),t("detail-dialog",{attrs:{id:e.id,visible:e.detailVisible},on:{"update:visible":function(i){e.detailVisible=i}}}),t("t-dialog",{attrs:{theme:"danger",header:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417\uFF1F",visible:e.confirmVisible},on:{"update:visible":function(i){e.confirmVisible=i},confirm:e.onConfirmDelete}})],1)},O=[];b._withStripped=!0;const u={};var g=r(M,b,O,!1,R,"5b6836fb",null,null);function R(e){for(let a in u)this[a]=u[a]}g.options.__file="src/pages/namespace-config/index.vue";var W=function(){return g.exports}();export{W as default};
